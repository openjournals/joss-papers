<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN"
                  "JATS-publishing1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.2" article-type="other">
<front>
<journal-meta>
<journal-id></journal-id>
<journal-title-group>
<journal-title>Journal of Open Source Software</journal-title>
<abbrev-journal-title>JOSS</abbrev-journal-title>
</journal-title-group>
<issn publication-format="electronic">2475-9066</issn>
<publisher>
<publisher-name>Open Journals</publisher-name>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">9951</article-id>
<article-id pub-id-type="doi">10.21105/joss.09951</article-id>
<title-group>
<article-title>c3dr: An R Package to Read and Write C3D Motion Capture
Files</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">https://orcid.org/0000-0003-1643-1860</contrib-id>
<name>
<surname>Nolte</surname>
<given-names>Simon</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<aff id="aff-1">
<institution-wrap>
<institution>Institute of Movement and Neurosciences, German Sport
University Cologne, Cologne, Germany</institution>
<institution-id institution-id-type="ROR">0189raq88</institution-id>
</institution-wrap>
</aff>
</contrib-group>
<pub-date date-type="pub" publication-format="electronic" iso-8601-date="2025-01-06">
<day>6</day>
<month>1</month>
<year>2025</year>
</pub-date>
<volume>11</volume>
<issue>118</issue>
<fpage>9951</fpage>
<permissions>
<copyright-statement>Authors of papers retain copyright and release the
work under a Creative Commons Attribution 4.0 International License (CC
BY 4.0)</copyright-statement>
<copyright-year>2026</copyright-year>
<copyright-holder>The article authors</copyright-holder>
<license license-type="open-access" xlink:href="https://creativecommons.org/licenses/by/4.0/">
<license-p>Authors of papers retain copyright and release the work under
a Creative Commons Attribution 4.0 International License (CC BY
4.0)</license-p>
</license>
</permissions>
<kwd-group kwd-group-type="author">
<kwd>R</kwd>
<kwd>C3D</kwd>
<kwd>biomechanics</kwd>
<kwd>kinematics</kwd>
<kwd>motion capture</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="summary">
  <title>Summary</title>
  <p>Human motion can be recorded in several ways, including
  three-dimensional motion capture systems, force platforms,
  electromyographic measurement devices, and inertial measurement units.
  These biomechanical measurements are stored and combined in data
  containers. The standard format for these data containers is the
  <italic>C3D</italic> file format. Software for working with
  <italic>C3D</italic> files has primarily been limited to programming
  languages such as C++, Python, or MATLAB. We here present
  <monospace>c3dr</monospace>, an R package for reading and writing
  <italic>C3D</italic> files. R is a programming language widely used
  for statistical modeling and data visualization, and
  <monospace>c3dr</monospace> extends its capabilities to biomechanical
  data analysis. The package is built on the open C++ library
  <monospace>ezc3d</monospace>
  (<xref alt="Michaud &amp; Begon, 2021" rid="ref-michaud2021" ref-type="bibr">Michaud
  &amp; Begon, 2021</xref>). With <monospace>c3dr</monospace>,
  researchers can use R to modify, visualize, and model biomechanical
  data stored in <italic>C3D</italic> files.</p>
</sec>
<sec id="statement-of-need">
  <title>Statement of need</title>
  <p><italic>C3D</italic> is a binary format commonly used in
  biomechanics to store data from multiple sources, such as motion
  capture systems and force plates
  (<xref alt="Motion Lab Systems, 2021" rid="ref-motionlabsystems2021" ref-type="bibr">Motion
  Lab Systems, 2021</xref>). The format is widely regarded as the
  standard data container in the field of human motion analysis.
  However, despite its widespread adoption, the available technical
  tools for working with <italic>C3D</italic> files are limited.</p>
  <p>The <italic>R</italic> language is widely used for scientific
  visualization, data wrangling, and statistical analysis
  (<xref alt="R Core Team, 2025" rid="ref-rcoreteam2025" ref-type="bibr">R
  Core Team, 2025</xref>). Yet, no software for reading and analyzing
  <italic>C3D</italic> files has existed in the R environment. We here
  present <monospace>c3dr</monospace>, an R package built on the
  open-source C++ library <monospace>ezc3d</monospace>
  (<xref alt="Michaud &amp; Begon, 2021" rid="ref-michaud2021" ref-type="bibr">Michaud
  &amp; Begon, 2021</xref>). The package allows users to import, modify,
  and export <italic>C3D</italic> files directly within R. This makes it
  possible to create fully reproducible data analysis pipelines for
  biomechanical research projects using R.</p>
</sec>
<sec id="state-of-the-field">
  <title>State of the field</title>
  <p>The primary software for handling <italic>C3D</italic> files is the
  Biomechanical-ToolKit (<monospace>BTK</monospace>)
  (<xref alt="Barre &amp; Armand, 2014" rid="ref-barre2014" ref-type="bibr">Barre
  &amp; Armand, 2014</xref>). Released as open-source software and
  popular for its graphical user interface Mokka,
  <monospace>BTK</monospace> has long served as the standard tool for
  biomechanical data analysis; however, the software has not been
  updated since 2015. More recent approaches, such as the
  <monospace>ezc3d</monospace> library
  (<xref alt="Michaud &amp; Begon, 2021" rid="ref-michaud2021" ref-type="bibr">Michaud
  &amp; Begon, 2021</xref>), are available, but like
  <monospace>BTK</monospace>, they are limited to C++, MATLAB, or Python
  (<xref alt="Johnsson, 2022" rid="ref-johnsson2022" ref-type="bibr">Johnsson,
  2022</xref>).</p>
  <p>To work with <italic>C3D</italic> data in R without a dedicated
  package, several cumbersome options exist. First, the data could be
  exported via graphical user interfaces as a <italic>CSV</italic> file
  and then imported in R. However, this workflow is not reproducible,
  inefficient, and does not preserve the metadata of the recording.
  Second, one could use the Python interface for
  <monospace>ezc3d</monospace> in R via the
  <monospace>reticulate</monospace> package
  (<xref alt="Ushey et al., 2025" rid="ref-reticulate" ref-type="bibr">Ushey
  et al., 2025</xref>), but this requires expertise in both Python and R
  and conversion of objects between the two is suboptimal for
  <italic>C3D</italic> data. Third, one could use the SWIG port
  available for R, but a dedicated software provided as an R package is
  easier to install and to use.</p>
  <p>The <monospace>c3dr</monospace> package is available from CRAN and
  can be installed via
  <monospace>install.packages(&quot;c3dr&quot;)</monospace>. Apart from
  R and the <monospace>Rcpp</monospace> package for integrating the C++
  source code
  (<xref alt="Eddelbuettel &amp; Francois, 2011" rid="ref-eddelbuettel2011" ref-type="bibr">Eddelbuettel
  &amp; Francois, 2011</xref>), no additional dependencies are required.
  The software is compatible with all major operating systems and
  contemporary C++ compilers. The package is released as open-source
  software under an MIT license.</p>
</sec>
<sec id="software-design">
  <title>Software Design</title>
  <p>The core of <monospace>c3dr</monospace> is the reading and writing
  functions for <italic>C3D</italic> data that wrap the existing C++
  functionality of <monospace>ezc3d</monospace>. A key challenge was to
  translate the structure of <italic>C3D</italic> data into an
  appropriate structure for R objects. Internally,
  <monospace>c3dr</monospace> treats <italic>C3D</italic> data as nested
  lists with different categories. This guarantees that all data and
  metadata are imported and available for re-export. Because nested
  lists are difficult to handle in R, several accessor functions are
  provided to convert the list data into more accessible data (and
  back), such as data.frame, which can be directly used for statistical
  analysis or visualization. When writing an <italic>C3D</italic> file,
  <monospace>c3dr</monospace> recreates the file from scratch, even if
  no modifications were made. This means that importing and re-exporting
  a file with the package may lead to minor modifications in the
  structure of the file. But rebuilding the file based on the available
  data is the only way to create valid files in response to changes to
  the data undertaken in R. It also ensures uniform output formats
  regardless of the input <italic>C3D</italic> format.</p>
</sec>
<sec id="research-impact-statement">
  <title>Research Impact Statement</title>
  <p>In its first 9 months on CRAN, <monospace>c3dr</monospace> has been
  downloaded more than 2500 times from the RStudio mirror. It is
  actively used at different universities for research and teaching,
  though no publications have yet resulted from these activities. The
  package has had several non-coding contributors from different
  countries. Since <monospace>c3dr</monospace> is the only package in R
  to support C3D data, future use in biomechanical research projects is
  to be expected.</p>
</sec>
<sec id="ai-usage-disclosure">
  <title>AI usage disclosure</title>
  <p>In writing the software documentation and the research paper,
  ChatGPT (GPT-4) was used for language improvements in the form of
  minor grammar and style edits. Additionally, the same tool was used
  for reviewing and refactoring code in the C++ wrapper functions. All
  edits coauthored by AI were verified by human review and the software
  passes an extensive test suite.</p>
</sec>
<sec id="acknowledgements">
  <title>Acknowledgements</title>
  <p>The following people have contributed to this package by providing
  raw data files, testing code, suggesting features and/or reviewing the
  package: Björn Braunstein, July Pilowsky, Michael Schwartz, Theresa
  Siepe, Aymeric Stamm.</p>
</sec>
<sec id="funding">
  <title>Funding</title>
  <p>This project was funded by the Internal Research Funds of the
  German Sport University Cologne, grant agreement number
  L-11-10011-289-154000.</p>
</sec>
</body>
<back>
<ref-list>
  <title></title>
  <ref id="ref-michaud2021">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Michaud</surname><given-names>Benjamin</given-names></name>
        <name><surname>Begon</surname><given-names>Mickaël</given-names></name>
      </person-group>
      <article-title>‘ezc3d‘: An easy C3D file I/O cross-platform solution for C++, Python and MATLAB</article-title>
      <source>Journal of Open Source Software</source>
      <year iso-8601-date="2021-02-21">2021</year><month>02</month><day>21</day>
      <volume>6</volume>
      <issue>58</issue>
      <uri>https://joss.theoj.org/papers/10.21105/joss.02911</uri>
      <pub-id pub-id-type="doi">10.21105/joss.02911</pub-id>
      <fpage>2911</fpage>
      <lpage></lpage>
    </element-citation>
  </ref>
  <ref id="ref-barre2014">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Barre</surname><given-names>Arnaud</given-names></name>
        <name><surname>Armand</surname><given-names>Stéphane</given-names></name>
      </person-group>
      <article-title>Biomechanical ToolKit: Open-source framework to visualize and process biomechanical data</article-title>
      <source>Computer Methods and Programs in Biomedicine</source>
      <year iso-8601-date="2014-04-01">2014</year><month>04</month><day>01</day>
      <volume>114</volume>
      <issue>1</issue>
      <uri>https://www.sciencedirect.com/science/article/pii/S0169260714000248</uri>
      <pub-id pub-id-type="doi">10.1016/j.cmpb.2014.01.012</pub-id>
      <fpage>80</fpage>
      <lpage>87</lpage>
    </element-citation>
  </ref>
  <ref id="ref-johnsson2022">
    <element-citation publication-type="book">
      <person-group person-group-type="author">
        <name><surname>Johnsson</surname><given-names>Leif</given-names></name>
      </person-group>
      <source>c3d: A library for manipulating C3D binary files</source>
      <year iso-8601-date="2022">2022</year>
      <uri>https://github.com/EmbodiedCognition/py-c3d</uri>
    </element-citation>
  </ref>
  <ref id="ref-rcoreteam2025">
    <element-citation publication-type="book">
      <person-group person-group-type="author">
        <name><surname>R Core Team</surname></name>
      </person-group>
      <source>R: A language and environment for statistical computing</source>
      <publisher-name>R Foundation for Statistical Computing</publisher-name>
      <publisher-loc>Vienna, Austria</publisher-loc>
      <year iso-8601-date="2025">2025</year>
      <uri>https://www.R-project.org/</uri>
      <pub-id pub-id-type="doi">10.32614/r.manuals</pub-id>
    </element-citation>
  </ref>
  <ref id="ref-motionlabsystems2021">
    <element-citation publication-type="report">
      <person-group person-group-type="author">
        <name><surname>Motion Lab Systems</surname></name>
      </person-group>
      <article-title>The C3D file format: A technical user guide</article-title>
      <year iso-8601-date="2021">2021</year>
      <uri>https://www.c3d.org/docs/C3D_User_Guide.pdf</uri>
      <fpage>134</fpage>
      <lpage></lpage>
    </element-citation>
  </ref>
  <ref id="ref-eddelbuettel2011">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Eddelbuettel</surname><given-names>Dirk</given-names></name>
        <name><surname>Francois</surname><given-names>Romain</given-names></name>
      </person-group>
      <article-title>Rcpp: Seamless R and C++ Integration</article-title>
      <source>Journal of Statistical Software</source>
      <year iso-8601-date="2011-04-13">2011</year><month>04</month><day>13</day>
      <volume>40</volume>
      <uri>https://doi.org/10.18637/jss.v040.i08</uri>
      <pub-id pub-id-type="doi">10.18637/jss.v040.i08</pub-id>
      <fpage>1</fpage>
      <lpage>18</lpage>
    </element-citation>
  </ref>
  <ref id="ref-reticulate">
    <element-citation publication-type="book">
      <person-group person-group-type="author">
        <name><surname>Ushey</surname><given-names>Kevin</given-names></name>
        <name><surname>Allaire</surname><given-names>JJ</given-names></name>
        <name><surname>Tang</surname><given-names>Yuan</given-names></name>
      </person-group>
      <source>Reticulate: Interface to ’python’</source>
      <year iso-8601-date="2025">2025</year>
      <uri>https://rstudio.github.io/reticulate/</uri>
      <pub-id pub-id-type="doi">10.32614/CRAN.package.reticulate</pub-id>
    </element-citation>
  </ref>
</ref-list>
</back>
</article>
