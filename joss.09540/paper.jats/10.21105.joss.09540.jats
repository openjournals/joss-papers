<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN"
                  "JATS-publishing1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.2" article-type="other">
<front>
<journal-meta>
<journal-id></journal-id>
<journal-title-group>
<journal-title>Journal of Open Source Software</journal-title>
<abbrev-journal-title>JOSS</abbrev-journal-title>
</journal-title-group>
<issn publication-format="electronic">2475-9066</issn>
<publisher>
<publisher-name>Open Journals</publisher-name>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">9540</article-id>
<article-id pub-id-type="doi">10.21105/joss.09540</article-id>
<title-group>
<article-title>CoSim Toolbox - Making HELICS Co-Simulations
Easier</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author" equal-contrib="yes">
<contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-6748-8803</contrib-id>
<name>
<surname>Hardy</surname>
<given-names>Trevor</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author" equal-contrib="yes">
<contrib-id contrib-id-type="orcid">https://orcid.org/0009-0000-3465-7279</contrib-id>
<name>
<surname>Pelton</surname>
<given-names>Mitch</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author" equal-contrib="yes">
<contrib-id contrib-id-type="orcid">https://orcid.org/0009-0008-0234-7207</contrib-id>
<name>
<surname>Gray</surname>
<given-names>Nathan</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">https://orcid.org/0009-0002-6352-5480</contrib-id>
<name>
<surname>Rutz</surname>
<given-names>Fred</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">https://orcid.org/0009-0001-9644-5797</contrib-id>
<name>
<surname>Bo</surname>
<given-names>Wen</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<aff id="aff-1">
<institution-wrap>
<institution>Pacific Northwest National Laboratory</institution>
<institution-id institution-id-type="ROR">05h992307</institution-id>
</institution-wrap>
</aff>
</contrib-group>
<pub-date date-type="pub" publication-format="electronic" iso-8601-date="2025-08-22">
<day>22</day>
<month>8</month>
<year>2025</year>
</pub-date>
<volume>11</volume>
<issue>118</issue>
<fpage>9540</fpage>
<permissions>
<copyright-statement>Authors of papers retain copyright and release the
work under a Creative Commons Attribution 4.0 International License (CC
BY 4.0)</copyright-statement>
<copyright-year>2026</copyright-year>
<copyright-holder>The article authors</copyright-holder>
<license license-type="open-access" xlink:href="https://creativecommons.org/licenses/by/4.0/">
<license-p>Authors of papers retain copyright and release the work under
a Creative Commons Attribution 4.0 International License (CC BY
4.0)</license-p>
</license>
</permissions>
<kwd-group kwd-group-type="author">
<kwd>Python</kwd>
<kwd>co-simulation</kwd>
<kwd>HELICS</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="summary">
  <title>Summary</title>
  <p>Co-simulation is a technique for creating larger and more complex
  time-series system models by facilitating data exchange between two or
  more models during runtime. This data exchange allows boundary states
  in models which may have been defined through static values or
  historical values to be dynamically generated by models in other
  simulator instances. This dynamic data exchange allows for system
  models that transcend individual simulation tools, modeled domains,
  and modeled subsystems. FMI
  (<xref alt="FMI, 2025" rid="ref-fmi_github" ref-type="bibr">FMI,
  2025</xref>), particularly as implemented in Modelica
  (<xref alt="Association, n.d." rid="ref-modelica" ref-type="bibr">Association,
  n.d.</xref>) and Mosaik
  (<xref alt="Steinbrink et al., 2019" rid="ref-app9050923" ref-type="bibr">Steinbrink
  et al., 2019</xref>), are examples of popular co-simulation
  platforms.</p>
  <p>HELICS
  (<xref alt="Hardy et al., 2024" rid="ref-HardyU003A2024aa" ref-type="bibr">Hardy
  et al., 2024</xref>) is the US Department of Energy’s publicly
  available co-simulation platform and has been under development since
  2017. HELICS provides the necessary simulation time management and
  facilitates the data exchanges between simulator instances (called
  “federates”). HELICS has been successfully used in a number of
  published studies such as evaluating transactive retail market in
  power systems
  (<xref alt="Theisen et al., 2024" rid="ref-TheisenU003A2024aa" ref-type="bibr">Theisen
  et al., 2024</xref>), evaluating the roles of distributed power
  inverters on power system frequency response
  (<xref alt="Bharati et al., 2023" rid="ref-BharatiU003A2023aa" ref-type="bibr">Bharati
  et al., 2023</xref>), evaluating the impact of electric vehicle
  charging in a metropolitan area
  (<xref alt="Panossian et al., 2023" rid="ref-PanossianU003A2023aa" ref-type="bibr">Panossian
  et al., 2023</xref>), and cyber-security analysis of power systems
  (<xref alt="Lardier, 2020" rid="ref-LardierU003A2020aa" ref-type="bibr">Lardier,
  2020</xref>). Due to its origins as a power system tool, many of the
  existing studies are connected to that domain but HELICS itself is
  domain agnostic and is suitable for use in any time-series
  simulation.</p>
</sec>
<sec id="statement-of-need">
  <title>Statement of Need</title>
  <p>CoSim Toolbox (CST) is built on top of HELICS and has the goal of
  making any HELICS-based co-simulations easier to manage and HELICS
  users are the target audience for CST. Based on years of experience
  using HELICS, we have found a number of pain points around data and
  metadata management and HELICS federate creation that CoSim Toolbox is
  designed to alleviate. Specifically, we have integrated the following
  tools and code to make HELICS easier to use:</p>
  <list list-type="bullet">
    <list-item>
      <p><bold>Docker</bold> - Docker containers are used to distribute
      HELICS, the CST API as well as any CST-enabled simulation tools.
      This allows the use of CST on all Linux, macOS, and Windows while
      minimizing the maintenance of these codebases.</p>
    </list-item>
    <list-item>
      <p><bold>Generic Federate class</bold> - To facilitate writing new
      federates more easily, CST provides a generic federate class for
      use when writing new Python federates. This class wraps the HELICS
      APIs and facilitates data exchanges using just Python data
      structures. By minimizing the amount of knowledge of HELICS APIs,
      we have seen those with no knowledge of HELICS be able to more
      easily implement a HELICS-based co-simulation using this CST
      federate class.</p>
    </list-item>
    <list-item>
      <p><bold>Time-Series Data Collection</bold> - A Postgres database
      is used to collect time-series data being generated by every
      federate. A data collection federate has been written using the
      CST APIs to collect data generated by the HELICS-enabled data
      exchanges and automatically commit it to the Postgres database.
      This allows data to be stored and thus accessed in a central
      location, making it easier to monitor and post-process the
      co-simulation data. The Postgres database is implemented as a
      Docker container along with pgAdmin to provide a web interface for
      inspecting the Postgres database.</p>
    </list-item>
    <list-item>
      <p><bold>Metadata and Configuration Management</bold> - HELICS
      federates require significant configuration which has historically
      been accomplished by JSON files on disk. Particularly for larger
      federations, this leads to a significant number of JSON files,
      sometimes leading to confusion about which files correspond to the
      data produced in a given co-simulation run. To help manage this
      configuration data, CST uses MongoDB to store the configuration
      information with the CST federate class designed to automatically
      retrieve a given federate’s configuration. The MongoDB database is
      implemented as a Docker container along with Mongo Express to
      provide a web interface for inspecting the MongoDB database.</p>
    </list-item>
  </list>
  <p>The capabilities provided by CST are not otherwise available to
  HELICS users, at least as an integrated capability. Some of this
  functionality is similar to what the Mosaik co-simulation platform
  provides (mosaik-web as a data visualization tool, adapters to use
  InfluxDB, Timescale, and SQL for data storage), while others like the
  generic federate class and metadata management are not.</p>
</sec>
<sec id="acknowledgements">
  <title>Acknowledgements</title>
  <p>This work was funded under E-COMP, a laboratory-directed research
  and development initiative at the Pacific Northwest National
  Laboratory, part of the United States Department of Energy.</p>
</sec>
</body>
<back>
<ref-list>
  <title></title>
  <ref id="ref-HardyU003A2024aa">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Hardy</surname><given-names>Trevor D.</given-names></name>
        <name><surname>Palmintier</surname><given-names>Bryan</given-names></name>
        <name><surname>Top</surname><given-names>Philip L.</given-names></name>
        <name><surname>Krishnamurthy</surname><given-names>Dheepak</given-names></name>
        <name><surname>Fuller</surname><given-names>Jason C.</given-names></name>
      </person-group>
      <article-title>HELICS: A Co-Simulation Framework for Scalable Multi-Domain Modeling and Analysis</article-title>
      <source>IEEE Access</source>
      <year iso-8601-date="2024-01">2024</year><month>01</month>
      <volume>12</volume>
      <uri>https://ieeexplore.ieee.org/document/10424422</uri>
      <pub-id pub-id-type="doi">{10.1109/ACCESS.2024.3363615}</pub-id>
      <fpage>24325</fpage>
      <lpage>24347</lpage>
    </element-citation>
  </ref>
  <ref id="ref-fmi_github">
    <element-citation>
      <person-group person-group-type="author">
        <name><surname>FMI</surname><given-names>Modelica Association Project</given-names></name>
      </person-group>
      <article-title>Fmi: Functional mock-up interface</article-title>
      <source>GitHub repository</source>
      <publisher-name>GitHub</publisher-name>
      <year iso-8601-date="2025">2025</year>
      <uri>https://github.com/modelica/fmi-standard</uri>
    </element-citation>
  </ref>
  <ref id="ref-modelica">
    <element-citation>
      <person-group person-group-type="author">
        <name><surname>Association</surname><given-names>Modelica</given-names></name>
      </person-group>
      <article-title>Modelica</article-title>
      <uri>https://modelica.org/</uri>
    </element-citation>
  </ref>
  <ref id="ref-TheisenU003A2024aa">
    <element-citation publication-type="paper-conference">
      <person-group person-group-type="author">
        <name><surname>Theisen</surname><given-names>John R.</given-names></name>
        <name><surname>Bose</surname><given-names>Anjan</given-names></name>
        <name><surname>Mukherjee</surname><given-names>Monish</given-names></name>
        <name><surname>Burgess</surname><given-names>Dan</given-names></name>
        <name><surname>Wilhelm</surname><given-names>Kenneth</given-names></name>
        <name><surname>Diedesch</surname><given-names>Michael</given-names></name>
      </person-group>
      <article-title>Community-based transactive coordination mechanism for enabling grid-edge systems</article-title>
      <source>2024 IEEE texas power and energy conference (TPEC)</source>
      <year iso-8601-date="2024-02">2024</year><month>02</month>
      <uri>https://ieeexplore.ieee.org/document/10472237</uri>
      <pub-id pub-id-type="doi">{10.1109/TPEC60005.2024.10472237}</pub-id>
      <fpage>1</fpage>
      <lpage>6</lpage>
    </element-citation>
  </ref>
  <ref id="ref-BharatiU003A2023aa">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Bharati</surname><given-names>Alok Kumar</given-names></name>
        <name><surname>Ajjarapu</surname><given-names>Venkataramana</given-names></name>
        <name><surname>Du</surname><given-names>Wei</given-names></name>
        <name><surname>Liu</surname><given-names>Yuan</given-names></name>
      </person-group>
      <article-title>Role of distributed inverter-based-resources in bulk grid primary frequency response through HELICS based SMTD co-simulation</article-title>
      <source>IEEE Systems Journal</source>
      <year iso-8601-date="2023">2023</year>
      <volume>17</volume>
      <issue>1</issue>
      <issn>1937-9234</issn>
      <uri>https://ieeexplore.ieee.org/document/9966492</uri>
      <pub-id pub-id-type="doi">{10.1109/JSYST.2022.3218117}</pub-id>
      <fpage>1071</fpage>
      <lpage>1082</lpage>
    </element-citation>
  </ref>
  <ref id="ref-PanossianU003A2023aa">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Panossian</surname><given-names>Nadia V.</given-names></name>
        <name><surname>Laarabi</surname><given-names>Haitam</given-names></name>
        <name><surname>Moffat</surname><given-names>Keith</given-names></name>
        <name><surname>Chang</surname><given-names>Heather</given-names></name>
        <name><surname>Palmintier</surname><given-names>Bryan</given-names></name>
        <name><surname>Meintz</surname><given-names>Andrew</given-names></name>
        <name><surname>Lipman</surname><given-names>Timothy E.</given-names></name>
        <name><surname>Waraich</surname><given-names>Rashid A.</given-names></name>
      </person-group>
      <article-title>Architecture for co-simulation of transportation and distribution systems with electric vehicle charging at scale in the san francisco bay area</article-title>
      <source>Energies</source>
      <year iso-8601-date="2023">2023</year>
      <volume>16</volume>
      <issue>5</issue>
      <issn>1996-1073</issn>
      <uri>https://www.mdpi.com/1996-1073/16/5/2189</uri>
      <pub-id pub-id-type="doi">{10.3390/en16052189}</pub-id>
    </element-citation>
  </ref>
  <ref id="ref-LardierU003A2020aa">
    <element-citation publication-type="thesis">
      <person-group person-group-type="author">
        <name><surname>Lardier</surname><given-names>William</given-names></name>
      </person-group>
      <article-title>ASGARDS-h: Enabling advanced smart grid cyber-physical attacks, risk and data studies with HELICS</article-title>
      <publisher-name>Concordia University</publisher-name>
      <publisher-loc>Montreal, Canada</publisher-loc>
      <year iso-8601-date="2020-11">2020</year><month>11</month>
      <uri>https://spectrum.library.concordia.ca/id/eprint/987690/1/Lardier_MASc_S2021.pdf</uri>
    </element-citation>
  </ref>
  <ref id="ref-app9050923">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Steinbrink</surname><given-names>Cornelius</given-names></name>
        <name><surname>Blank-Babazadeh</surname><given-names>Marita</given-names></name>
        <name><surname>El-Ama</surname><given-names>André</given-names></name>
        <name><surname>Holly</surname><given-names>Stefanie</given-names></name>
        <name><surname>Lüers</surname><given-names>Bengt</given-names></name>
        <name><surname>Nebel-Wenner</surname><given-names>Marvin</given-names></name>
        <name><surname>Ramírez Acosta</surname><given-names>Rebeca P.</given-names></name>
        <name><surname>Raub</surname><given-names>Thomas</given-names></name>
        <name><surname>Schwarz</surname><given-names>Jan Sören</given-names></name>
        <name><surname>Stark</surname><given-names>Sanja</given-names></name>
        <name><surname>Nieße</surname><given-names>Astrid</given-names></name>
        <name><surname>Lehnhoff</surname><given-names>Sebastian</given-names></name>
      </person-group>
      <article-title>CPES testing with mosaik: Co-simulation planning, execution and analysis</article-title>
      <source>Applied Sciences</source>
      <year iso-8601-date="2019">2019</year>
      <volume>9</volume>
      <issue>5</issue>
      <issn>2076-3417</issn>
      <uri>https://www.mdpi.com/2076-3417/9/5/923</uri>
      <pub-id pub-id-type="doi">10.3390/app9050923</pub-id>
    </element-citation>
  </ref>
</ref-list>
</back>
</article>
