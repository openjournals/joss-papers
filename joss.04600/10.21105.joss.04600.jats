<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN"
                  "JATS-publishing1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.2" article-type="other">
<front>
<journal-meta>
<journal-id></journal-id>
<journal-title-group>
<journal-title>Journal of Open Source Software</journal-title>
<abbrev-journal-title>JOSS</abbrev-journal-title>
</journal-title-group>
<issn publication-format="electronic">2475-9066</issn>
<publisher>
<publisher-name>Open Journals</publisher-name>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">4600</article-id>
<article-id pub-id-type="doi">10.21105/joss.04600</article-id>
<title-group>
<article-title>Castellum: A participant management tool for scientific
studies</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author">
<name>
<surname>Bengfort</surname>
<given-names>Tobias</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<name>
<surname>Hayat</surname>
<given-names>Taib</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author" corresp="yes">
<contrib-id contrib-id-type="orcid">0000-0003-0218-6358</contrib-id>
<name>
<surname>Göttel</surname>
<given-names>Timo</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
<xref ref-type="corresp" rid="cor-1"><sup>*</sup></xref>
</contrib>
<aff id="aff-1">
<institution-wrap>
<institution>Max Planck Institute for Human Development, Berlin,
Germany</institution>
</institution-wrap>
</aff>
</contrib-group>
<author-notes>
<corresp id="cor-1">* E-mail: <email></email></corresp>
</author-notes>
<pub-date date-type="pub" publication-format="electronic" iso-8601-date="2022-06-15">
<day>15</day>
<month>6</month>
<year>2022</year>
</pub-date>
<volume>7</volume>
<issue>79</issue>
<fpage>4600</fpage>
<permissions>
<copyright-statement>Authors of papers retain copyright and release the
work under a Creative Commons Attribution 4.0 International License (CC
BY 4.0)</copyright-statement>
<copyright-year>2022</copyright-year>
<copyright-holder>The article authors</copyright-holder>
<license license-type="open-access" xlink:href="https://creativecommons.org/licenses/by/4.0/">
<license-p>Authors of papers retain copyright and release the work under
a Creative Commons Attribution 4.0 International License (CC BY
4.0)</license-p>
</license>
</permissions>
<kwd-group kwd-group-type="author">
<kwd>Python</kwd>
<kwd>Django</kwd>
<kwd>GDPR</kwd>
<kwd>participant management</kwd>
<kwd>study recruitment</kwd>
<kwd>study execution</kwd>
<kwd>pseudonym service</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="summary">
  <title>Summary</title>
  <p><monospace>Castellum</monospace> is a web application aimed mainly
  at the lifecycle of human research studies by supporting participant
  management, pseudonym service, recruitment, study appointments and
  study execution.</p>
  <p>The main design focus of <monospace>Castellum</monospace> is
  compliance with the European Union’s (EU) General Data Protection
  Regulation (GDPR) and with IT security. Additionally, it is designed
  to be adaptable to other workflows or processes at different research
  institutions.</p>
</sec>
<sec id="statement-of-need">
  <title>Statement of Need</title>
  <p>The web app <monospace>Castellum</monospace> provides a clear
  structure for handling the data of all study participants. Contact
  information, personal data relevant to a study (for example, age,
  highest degree qualification, …) and process information (for example,
  existing consents or last study participations at the institution) are
  stored in <monospace>Castellum</monospace> itself.
  <monospace>Castellum</monospace> was developed in order to ensure this
  data is managed in accordance with the applicable standards of the
  GDPR.</p>
  <p>Scientific data, on the other hand, is stored separately and uses
  study-specific pseudonyms that were generated by
  <monospace>Castellum</monospace>.</p>
  <sec id="overview-key-features">
    <title>Overview Key Features</title>
    <p><monospace>Castellum</monospace> allows assigning individual
    study-specific pseudonyms to the participants of each study to
    ensure that the actual scientific data can be stored separately from
    the contact data in another system (on a different server or file
    system).</p>
    <p>In addition, <monospace>Castellum</monospace> allows for multiple
    pseudonym spaces (“domains”) to be created in studies, so that
    several pseudonyms can be used per participant in a study.</p>
    <p>The specific and expandable assignment of pseudonyms is intended
    to prevent the pooling/merging of scientific data across studies (or
    groups of people) without an appropriate legal basis.</p>
    <p>During the execution of a study, it is technically ensured that
    only users with the corresponding study-specific access role can
    access the contact data in <monospace>Castellum</monospace> via a
    domain specific pseudonym search. As soon as the data collection
    phase of a study is marked as finished in
    <monospace>Castellum</monospace>, this possibility expires. From
    then on, only the data protection coordinator role is able to access
    study participations.</p>
    <p>Additionally, <monospace>Castellum</monospace> allows deleting
    the pseudonym space of a study independent of the study status.
    After the deletion of a pseudonym space, it will be impossible for
    any user to connect pseudonymized scientific data to the contact
    data in <monospace>Castellum</monospace>. This process corresponds
    to the usually paper-based procedure in human science of destroying
    the coding list at a certain point after data collection.</p>
    <p>Moreover, <monospace>Castellum</monospace> keeps track of the
    legal bases to keep information about a participant. When all legal
    bases have expired, the participant is listed in a data protection
    dashboard. This allows data protection officers (or staff) to handle
    or rather delete participant data accordingly.</p>
  </sec>
  <sec id="roles-and-rights-management">
    <title>Roles and Rights Management</title>
    <p>Users can be imported via LDAP groups. Users are assigned to
    different roles in <monospace>Castellum</monospace>. There are five
    global roles: Data protection coordinator, Principal subject
    manager, Receptionist, Study approver, Study coordinator. Two of
    these roles (Data protection coordinator, Principal subject manager)
    allow comprehensive access to participant data. These roles should
    only be assigned to a very small group of people. Within a study
    recruitment, recruiters are granted access to the contact data of
    persons who match the set filter criteria of the study. Conductors
    get access to the contact data and pseudonyms of persons who are
    marked as participating in the study. While users with the role of
    Principal subject manager are shown all matching records in the
    results list of participant search, the study-specific subject
    managers only receive search results for participants of their
    affiliated studies.</p>
    <p>In addition to user management with roles,
    <monospace>Castellum</monospace> controls access to datasets via
    privacy levels. Different privacy levels are assigned to users,
    participants and attributes. This ensures that users, regardless of
    the roles assigned to them, can only view records that correspond to
    their privacy level.</p>
    <p><monospace>Castellum</monospace> allows that data is distributed
    across two databases (contact data can be kept separated from all
    other data). The actual research data is <bold>never</bold> stored
    in <monospace>Castellum</monospace>. The linking to this data is
    regulated by pseudonyms, which can only be resolved via appropriate
    rights in <monospace>Castellum</monospace>.</p>
  </sec>
  <sec id="two-factor-authentication">
    <title>Two-factor Authentication</title>
    <p>To protect individuals’ personal data from compromise or weak
    passwords, <monospace>Castellum</monospace> uses a standalone
    two-factor authentication (2FA) for Django that was also developed
    by a <monospace>Castellum</monospace> team member
    (<xref alt="Bengfort, 2022" rid="ref-mfa3" ref-type="bibr">Bengfort,
    2022</xref>). Users must enter an additional code before they can
    log into <monospace>Castellum</monospace>. Currently, any generic
    time-based one-time password application
    (<xref alt="M’Raihi et al., 2011" rid="ref-totp" ref-type="bibr">M’Raihi
    et al., 2011</xref>) or FIDO2 hardware security token is
    supported.</p>
  </sec>
  <sec id="considerations-on-the-production-environment">
    <title>Considerations on the Production Environment</title>
    <p>The application should be hosted locally at a research facility
    and it is recommended to make it only available on the intranet;
    i.e., direct access via the internet should not be possible to
    minimize security threats. The access to the web interface should
    always be encrypted (SSL).</p>
    <p>Access to the server should be restricted to a small group of
    administrators of the corresponding institute. It is recommended
    that users should undergo recurring training on GDPR compliant usage
    of <monospace>Castellum</monospace> and its suggested interaction
    with participants.</p>
    <p>It remains to mention that regular database backups of
    <monospace>Castellum</monospace> have implications for data
    protection: After a participant has been deleted in
    <monospace>Castellum</monospace>, their personal data will still be
    stored in a backup. Therefore, it is recommended to keep backups
    only for a short amount of time (e.g., 14 days) and inform
    participants about the date when all their data, including backups,
    will be deleted.</p>
  </sec>
</sec>
<sec id="state-of-the-field">
  <title>State of the Field</title>
  <p>While there are several commercial providers offering (proprietary)
  online software services around participant management it is hard to
  find open-source packages that tackle these topics in full scope. For
  example, the MOSAIC project
  (<xref alt="MOSAIC Team, 2022" rid="ref-mosaicgit" ref-type="bibr">MOSAIC
  Team, 2022</xref>) is offering a set of tools that could be used to
  set up an ecosystem to support study execution. However, as described
  by the authors
  (<xref alt="Bialke et al., 2015" rid="ref-mosaicpaper" ref-type="bibr">Bialke
  et al., 2015</xref>) these modules are strongly focused on managing
  participant data for a single (often large-scale) study that needs a
  third party as fiduciary to hold the actual contact data of
  participants. In fact, a sister project we are in contact with
  (<xref alt="Huscy Team, 2022" rid="ref-huscy" ref-type="bibr">Huscy
  Team, 2022</xref>) is covering this modular approach as well. Yet
  another approach is presented by the ORSEE tool
  (<xref alt="ORSEE Team, 2020" rid="ref-orseegit" ref-type="bibr">ORSEE
  Team, 2020</xref>): It covers a <italic>self-booking</italic>
  recruitment approach for studies that needs potential participants to
  sign up for studies that they find interesting
  (<xref alt="Greiner, 2015" rid="ref-orseepaper" ref-type="bibr">Greiner,
  2015</xref>).</p>
  <p>Although these are important application scenarios, they often fail
  to support research facilities that are running many studies in
  parallel and want to proactively recruit participants out of an
  in-house pool of interested potential participants. Such institutions
  want to invite potential participants who are a perfect fit for a
  study to guarantee a random sample as possible. This makes it
  important to allow staff members to define study filters and contact
  according potential participants at ease but still respecting GDPR
  requirements. From our point of view, Castellum is currently the only
  turn-key open-source solution for GDPR compliant participant
  management in that manner.</p>
</sec>
<sec id="acknowledgements">
  <title>Acknowledgements</title>
  <p>The <monospace>Castellum</monospace> project is financed by
  internal funds of the Max Planck Society.</p>
</sec>
</body>
<back>
<ref-list>
  <ref id="ref-huscy">
    <element-citation>
      <person-group person-group-type="author">
        <string-name>Huscy Team</string-name>
      </person-group>
      <article-title>Huscy modules</article-title>
      <source>Bitbucket repository</source>
      <publisher-name>Bitbucket</publisher-name>
      <year iso-8601-date="2022">2022</year>
      <uri>https://bitbucket.org/huscy/</uri>
    </element-citation>
  </ref>
  <ref id="ref-mfa3">
    <element-citation>
      <person-group person-group-type="author">
        <name><surname>Bengfort</surname><given-names>T.</given-names></name>
      </person-group>
      <article-title>Django-mfa3: An opinionated django app that handles multi factor authentication (MFA) via FIDO2, TOTP, and recovery codes.</article-title>
      <source>GitHub repository</source>
      <publisher-name>GitHub</publisher-name>
      <year iso-8601-date="2022">2022</year>
      <uri>https://github.com/xi/django-mfa3</uri>
    </element-citation>
  </ref>
  <ref id="ref-mosaicpaper">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Bialke</surname><given-names>M.</given-names></name>
        <name><surname>Bahls</surname><given-names>T.</given-names></name>
        <name><surname>Havemann</surname><given-names>C.</given-names></name>
        <name><surname>Piegsa</surname><given-names>J.</given-names></name>
        <name><surname>Weitmann</surname><given-names>K.</given-names></name>
        <name><surname>Wegner</surname><given-names>T.</given-names></name>
        <string-name>Hoffmann, W.</string-name>
      </person-group>
      <article-title>MOSAIC – a modular approach to data management in epidemiological studies</article-title>
      <source>Methods of Information in Medicine</source>
      <year iso-8601-date="2015-04">2015</year><month>04</month>
      <volume>54</volume>
      <pub-id pub-id-type="doi">10.3414/ME14-01-0133</pub-id>
    </element-citation>
  </ref>
  <ref id="ref-mosaicgit">
    <element-citation>
      <person-group person-group-type="author">
        <string-name>MOSAIC Team</string-name>
      </person-group>
      <article-title>MOSAIC tools</article-title>
      <source>GitHub repository</source>
      <publisher-name>GitHub</publisher-name>
      <year iso-8601-date="2022">2022</year>
      <uri>https://github.com/mosaic-hgw</uri>
    </element-citation>
  </ref>
  <ref id="ref-orseepaper">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Greiner</surname><given-names>B.</given-names></name>
      </person-group>
      <article-title>Subject pool recruitment procedures: Organizing experiments with ORSEE</article-title>
      <source>Journal of the Economic Science Association</source>
      <year iso-8601-date="2015-07">2015</year><month>07</month>
      <volume>1</volume>
      <pub-id pub-id-type="doi">10.1007/s40881-015-0004-4</pub-id>
    </element-citation>
  </ref>
  <ref id="ref-orseegit">
    <element-citation>
      <person-group person-group-type="author">
        <string-name>ORSEE Team</string-name>
      </person-group>
      <article-title>Online recruitment system for economic experiments (ORSEE)</article-title>
      <source>GitHub repository</source>
      <publisher-name>GitHub</publisher-name>
      <year iso-8601-date="2020">2020</year>
      <uri>https://github.com/orsee/orsee</uri>
    </element-citation>
  </ref>
  <ref id="ref-totp">
    <element-citation>
      <person-group person-group-type="author">
        <name><surname>M’Raihi</surname><given-names>D.</given-names></name>
        <name><surname>Machani</surname><given-names>S.</given-names></name>
        <name><surname>Pei</surname><given-names>M.</given-names></name>
        <name><surname>Rydell</surname><given-names>J.</given-names></name>
      </person-group>
      <article-title>TOTP: Time-based one-time password algorithm</article-title>
      <source>RFC</source>
      <publisher-name>Internet Engineering Task Force</publisher-name>
      <year iso-8601-date="2011">2011</year>
      <uri>https://www.rfc-editor.org/rfc/rfc6238</uri>
      <pub-id pub-id-type="doi">10.17487/rfc6238</pub-id>
    </element-citation>
  </ref>
</ref-list>
</back>
</article>
