<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN"
                  "JATS-publishing1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.2" article-type="other">
<front>
<journal-meta>
<journal-id></journal-id>
<journal-title-group>
<journal-title>Journal of Open Source Software</journal-title>
<abbrev-journal-title>JOSS</abbrev-journal-title>
</journal-title-group>
<issn publication-format="electronic">2475-9066</issn>
<publisher>
<publisher-name>Open Journals</publisher-name>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">9187</article-id>
<article-id pub-id-type="doi">10.21105/joss.09187</article-id>
<title-group>
<article-title>patientflow: a Python package for real-time prediction of
hospital bed demand from current and incoming patients</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-7389-1527</contrib-id>
<name>
<surname>King</surname>
<given-names>Zella</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">https://orcid.org/0009-0007-4110-7284</contrib-id>
<name>
<surname>Gillham</surname>
<given-names>Jon</given-names>
</name>
<xref ref-type="aff" rid="aff-2"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-9928-1516</contrib-id>
<name>
<surname>Utley</surname>
<given-names>Martin</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<contrib contrib-type="author">
<name>
<surname>Lundell</surname>
<given-names>Sara</given-names>
</name>
<xref ref-type="aff" rid="aff-3"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">https://orcid.org/0000-0001-9104-7960</contrib-id>
<name>
<surname>Graham</surname>
<given-names>Matt</given-names>
</name>
<xref ref-type="aff" rid="aff-4"/>
</contrib>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">https://orcid.org/0000-0003-1882-5476</contrib-id>
<name>
<surname>Crowe</surname>
<given-names>Sonya</given-names>
</name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<aff id="aff-1">
<institution-wrap>
<institution>Clinical Operational Research Unit (CORU), University
College London, United Kingdom</institution>
</institution-wrap>
</aff>
<aff id="aff-2">
<institution-wrap>
<institution>Institute of Health Informatics, University College London,
United Kingdom</institution>
</institution-wrap>
</aff>
<aff id="aff-3">
<institution-wrap>
<institution>Sahlgrenska University Hospital, Göteborg,
Sweden</institution>
</institution-wrap>
</aff>
<aff id="aff-4">
<institution-wrap>
<institution>Centre for Advanced Research Computing, University College
London, United Kingdom</institution>
</institution-wrap>
</aff>
</contrib-group>
<pub-date date-type="pub" publication-format="electronic" iso-8601-date="2025-06-02">
<day>2</day>
<month>6</month>
<year>2025</year>
</pub-date>
<volume>10</volume>
<issue>116</issue>
<fpage>9187</fpage>
<permissions>
<copyright-statement>Authors of papers retain copyright and release the
work under a Creative Commons Attribution 4.0 International License (CC
BY 4.0)</copyright-statement>
<copyright-year>2025</copyright-year>
<copyright-holder>The article authors</copyright-holder>
<license license-type="open-access" xlink:href="https://creativecommons.org/licenses/by/4.0/">
<license-p>Authors of papers retain copyright and release the work under
a Creative Commons Attribution 4.0 International License (CC BY
4.0)</license-p>
</license>
</permissions>
<kwd-group kwd-group-type="author">
<kwd>Python</kwd>
<kwd>patient</kwd>
<kwd>hospital</kwd>
<kwd>bed</kwd>
<kwd>demand</kwd>
<kwd>real-time</kwd>
<kwd>electronic health records</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="summary">
  <title>Summary</title>
  <p>patientflow is a Python package available on
  PyPi(<xref alt="King et al., 2025" rid="ref-patientflow" ref-type="bibr">King
  et al., 2025</xref>) for real-time prediction of hospital bed demand
  from current and incoming patients. It enables researchers to easily
  develop predictive models and demonstrate their utility to
  practitioners. Researchers can use it to prepare data sets for
  predictive modelling, generate patient level predictions of admission,
  discharge or transfer, and then combine patient-level predictions at
  different levels of aggregation to give output that is useful for bed
  managers. The package was developed for University College London
  Hospitals (UCLH) NHS Trust to predict demand for emergency beds using
  real-time data. The methods generalise to any problem where it is
  useful to predict non-clinical outcomes for a cohort of patients at a
  point in time. The repository includes a synthetic dataset and a
  series of notebooks demonstrating the use of the package.</p>
</sec>
<sec id="statement-of-need">
  <title>Statement of need</title>
  <p>Hospital bed managers monitor whether they have sufficient beds to
  meet demand. At specific points during the day they predict numbers of
  inpatients likely to leave and numbers of new admissions. These
  predictions are important because, if bed managers anticipate a
  shortage of beds, they must take swift action to mitigate the
  situation. Commonly, bed managers use simple heuristics based on past
  admission and discharge patterns. Electronic Health Record (EHR)
  systems can offer superior predictions, grounded in real-time
  knowledge about patients currently in the hospital.</p>
  <p>Many studies demonstrate the use of EHR data to predict individual
  patient outcomes, but few harness such predictive models to methods
  for estimating aggregate outcomes for cohorts of patients. In the
  context of predicting bed demand, it is this aggregate level that is
  most meaningful for bed managers
  (<xref alt="King et al., 2022" rid="ref-king2022machine" ref-type="bibr">King
  et al., 2022</xref>). Note that by design, we provide methods to
  estimate unfettered demand for beds to inform decision-making
  (<xref alt="Worthington et al., 2019" rid="ref-worthington2019infinite" ref-type="bibr">Worthington
  et al., 2019</xref>).</p>
  <p>This package is intended to make it easier for researchers to
  create such predictions. Its central tenet is the structuring of data
  into ‘snapshots’ of a hospital, where a patient snapshot captures what
  data are available on a current patient’s state at a specific moment,
  and a cohort snapshot represents a collection of patient snapshots,
  for aggregate predictions. Notebooks in the Github repository
  demonstrate how to use the package to create patient and group
  snapshots from EHR data. Once data is structured into snapshots,
  researchers can use their own patient-level models with our analytical
  methods to produce cohort-level predictions. The package provides
  tools to compare predicted distributions against observations.</p>
  <p>Our intention is that the patientflow package will help researchers
  demonstrate the practical value of their predictive models for
  hospital management. Notebooks in the accompanying repository show
  examples based on synthetic data
  (<xref alt="King et al., 2024" rid="ref-patientflow_github" ref-type="bibr">King
  et al., 2024</xref>). Researchers also have the option to download
  real patient data from Zenodo to use with the notebooks
  (<xref alt="King &amp; Crowe, 2025" rid="ref-patientflow_data" ref-type="bibr">King
  &amp; Crowe, 2025</xref>). The repository includes a fully worked
  example of how the package has been used in a live application at
  University College London Hospital to predict demand for emergency
  beds. Detailed examples illustrating the features of the package
  applied to predicting demand for emergency beds are available in a
  series of Jupyter notebooks
  (<xref alt="King et al., 2024" rid="ref-patientflow_github" ref-type="bibr">King
  et al., 2024</xref>).</p>
</sec>
<sec id="related-software">
  <title>Related software</title>
  <p>Simulation is a common approach for modelling patient flow, and
  there are various packages to support that, such as PathSimR for R
  (<xref alt="Tyler et al., 2022" rid="ref-tyler2022improving" ref-type="bibr">Tyler
  et al., 2022</xref>) and sim-tools
  (<xref alt="Monks &amp; Harper, 2023" rid="ref-monks2023improving" ref-type="bibr">Monks
  &amp; Harper, 2023</xref>) and ActaPatientFlow
  (<xref alt="Szabó et al., 2024" rid="ref-szabo2024patient" ref-type="bibr">Szabó
  et al., 2024</xref>) for Python.</p>
  <p>To our knowledge, there are no packages that support the use of
  real-time patient data with a specific focus on output that can help
  healthcare managers respond to changes as they arise. Our intention
  for patientflow is to support the development of patient level
  predictive models and the use of real-time data, combined with a
  mathematical approach to calculating distributions of aggregate
  demand. Taking a mathematical approach provides quicker and more
  accurate results than deploying simulation for the same task.</p>
</sec>
<sec id="acknowledgements">
  <title>Acknowledgements</title>
  <p>The PyPi template developed by Tom Monks inspired us to create a
  Python package. This repository is based on a template developed by
  the Centre for Advanced Research Computing, University College London.
  We are grateful to Lawrence Lai for creation of the synthetic
  dataset.</p>
  <p>The development of this repository/package was funded by UCL’s QR
  Policy Support Fund, which is funded by Research England.</p>
</sec>
</body>
<back>
<ref-list>
  <title></title>
  <ref id="ref-king2022machine">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>King</surname><given-names>Z</given-names></name>
        <name><surname>Farrington</surname><given-names>J.</given-names></name>
        <name><surname>Utley</surname><given-names>M.</given-names></name>
        <name><surname>others</surname></name>
      </person-group>
      <article-title>Machine learning for real-time aggregated prediction of hospital admission for emergency patients</article-title>
      <source>NPJ Digital Medicine</source>
      <year iso-8601-date="2022">2022</year>
      <volume>5</volume>
      <issue>104</issue>
      <uri>https://doi.org/10.1038/s41746-022-00649-y</uri>
      <pub-id pub-id-type="doi">10.1038/s41746-022-00649-y</pub-id>
    </element-citation>
  </ref>
  <ref id="ref-patientflow">
    <element-citation>
      <person-group person-group-type="author">
        <name><surname>King</surname><given-names>Z</given-names></name>
        <name><surname>Gillham</surname><given-names>J</given-names></name>
        <name><surname>Utley</surname><given-names>M</given-names></name>
        <name><surname>Graham</surname><given-names>M</given-names></name>
        <name><surname>Crowe</surname><given-names>S</given-names></name>
      </person-group>
      <article-title>Patientflow (version 0.4.3) [computer software]</article-title>
      <publisher-name>Python Package Index</publisher-name>
      <year iso-8601-date="2025">2025</year>
      <uri>https://pypi.org/project/patientflow/</uri>
    </element-citation>
  </ref>
  <ref id="ref-patientflow_data">
    <element-citation>
      <person-group person-group-type="author">
        <name><surname>King</surname><given-names>Z</given-names></name>
        <name><surname>Crowe</surname><given-names>S</given-names></name>
      </person-group>
      <article-title>Patient visits to the emergency department of an acute hospital; dataset to accompany the patientflow repository</article-title>
      <publisher-name>Zenodo</publisher-name>
      <year iso-8601-date="2025">2025</year>
      <uri>https://doi.org/10.5281/zenodo.14866056</uri>
      <pub-id pub-id-type="doi">10.5281/zenodo.14866056</pub-id>
    </element-citation>
  </ref>
  <ref id="ref-patientflow_github">
    <element-citation>
      <person-group person-group-type="author">
        <name><surname>King</surname><given-names>Z</given-names></name>
        <name><surname>Gillham</surname><given-names>J</given-names></name>
        <name><surname>Utley</surname><given-names>M</given-names></name>
        <name><surname>Graham</surname><given-names>M</given-names></name>
        <name><surname>Crowe</surname><given-names>S</given-names></name>
      </person-group>
      <article-title>Patientflow: Code and explanatory notebooks for predicting short-term hospital bed demand using real-time data</article-title>
      <publisher-name>GitHub</publisher-name>
      <year iso-8601-date="2024">2024</year>
      <uri>https://github.com/ucl-coru/patientflow</uri>
    </element-citation>
  </ref>
  <ref id="ref-tyler2022improving">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Tyler</surname><given-names>J. M.</given-names></name>
        <name><surname>Murch</surname><given-names>B. J.</given-names></name>
        <name><surname>Vasilakis</surname><given-names>C.</given-names></name>
        <name><surname>Wood</surname><given-names>R. M.</given-names></name>
      </person-group>
      <article-title>Improving uptake of simulation in healthcare: User-driven development of an open-source tool for modelling patient flow</article-title>
      <source>Journal of Simulation</source>
      <year iso-8601-date="2022">2022</year>
      <volume>17</volume>
      <issue>6</issue>
      <pub-id pub-id-type="doi">10.1080/17477778.2022.2081521</pub-id>
      <fpage>765</fpage>
      <lpage>782</lpage>
    </element-citation>
  </ref>
  <ref id="ref-monks2023improving">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Monks</surname><given-names>T.</given-names></name>
        <name><surname>Harper</surname><given-names>A.</given-names></name>
      </person-group>
      <article-title>Improving the usability of open health service delivery simulation models using python and web apps [version 2; peer review: 3 approved]</article-title>
      <source>NIHR Open Res</source>
      <year iso-8601-date="2023">2023</year>
      <volume>3</volume>
      <uri>https://doi.org/10.3310/nihropenres.13467.2</uri>
      <pub-id pub-id-type="doi">10.3310/nihropenres.13467.2</pub-id>
      <fpage>48</fpage>
      <lpage></lpage>
    </element-citation>
  </ref>
  <ref id="ref-szabo2024patient">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Szabó</surname><given-names>Z.</given-names></name>
        <name><surname>Hompoth</surname><given-names>E. A.</given-names></name>
        <name><surname>Bilicki</surname><given-names>V.</given-names></name>
      </person-group>
      <article-title>Patient flow analysis with a custom simulation engine</article-title>
      <source>Acta Cybernetica</source>
      <year iso-8601-date="2024">2024</year>
      <volume>26</volume>
      <issue>3</issue>
      <pub-id pub-id-type="doi">10.14232/actacyb.299391</pub-id>
      <fpage>637</fpage>
      <lpage>669</lpage>
    </element-citation>
  </ref>
  <ref id="ref-worthington2019infinite">
    <element-citation publication-type="article-journal">
      <person-group person-group-type="author">
        <name><surname>Worthington</surname><given-names>D.</given-names></name>
        <name><surname>Utley</surname><given-names>M.</given-names></name>
        <name><surname>Suen</surname><given-names>D.</given-names></name>
      </person-group>
      <article-title>Infinite-server queueing models of demand in healthcare: A review of applications and ideas for further work</article-title>
      <source>Journal of the Operational Research Society</source>
      <year iso-8601-date="2019">2019</year>
      <volume>71</volume>
      <issue>8</issue>
      <uri>https://doi.org/10.1080/01605682.2019.1609878</uri>
      <pub-id pub-id-type="doi">10.1080/01605682.2019.1609878</pub-id>
      <fpage>1145</fpage>
      <lpage>1160</lpage>
    </element-citation>
  </ref>
</ref-list>
</back>
</article>
