<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Publishing DTD v1.2 20190208//EN"
                  "JATS-publishing1.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" dtd-version="1.2" article-type="other">
<front>
<journal-meta>
<journal-id></journal-id>
<journal-title-group>
<journal-title>Journal of Open Source Software</journal-title>
<abbrev-journal-title>JOSS</abbrev-journal-title>
</journal-title-group>
<issn publication-format="electronic">2475-9066</issn>
<publisher>
<publisher-name>Open Journals</publisher-name>
</publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">3631</article-id>
<article-id pub-id-type="doi">10.21105/joss.03631</article-id>
<title-group>
<article-title>MMM: A C++ library for simulating large
herbivores</article-title>
</title-group>
<contrib-group>
<contrib contrib-type="author">
<contrib-id contrib-id-type="orcid">0000-0002-4813-1072</contrib-id>
<string-name>Traylor, Wolfgang</string-name>
<xref ref-type="aff" rid="aff-1"/>
</contrib>
<aff id="aff-1">
<institution-wrap>
<institution>Senckenberg Biodiversity and Climate Research Centre,
Frankfurt am Main, Germany</institution>
</institution-wrap>
</aff>
</contrib-group>
<volume>6</volume>
<issue>68</issue>
<fpage>3631</fpage>
<permissions>
<copyright-statement>Authors of papers retain copyright and release the
work under a Creative Commons Attribution 4.0 International License (CC
BY 4.0)</copyright-statement>
<copyright-year>2021</copyright-year>
<copyright-holder>The article authors</copyright-holder>
<license license-type="open-access" xlink:href="https://creativecommons.org/licenses/by/4.0/">
<license-p>Authors of papers retain copyright and release the work under
a Creative Commons Attribution 4.0 International License (CC BY
4.0)</license-p>
</license>
</permissions>
<kwd-group kwd-group-type="author">
<kwd>C++</kwd>
<kwd>DGVM</kwd>
<kwd>LPJ-GUSS</kwd>
<kwd>mammoth</kwd>
<kwd>megafauna</kwd>
<kwd>paleoecology</kwd>
</kwd-group>
</article-meta>
</front>
<body>
<sec id="summary">
  <title>Summary</title>
  <p>The Modular Megafauna Model (MMM) simulates populations of large,
  terrestrial herbivores (megafauna) through space and time.</p>
  <p>Herbivore cohorts feed, grow, reproduce, and die in daily
  simulation cycles. Based on these physiological processes herbivore
  numbers rise and fall dynamically. The model thus does not prescribe
  carrying capacity, but instead simulates herbivore densities in a
  mechanistic, bottom-up approach.</p>
</sec>
<sec id="statement-of-need">
  <title>Statement of Need</title>
  <p>Mechanistic modeling can help us understand the drivers behind
  real-world population dynamics. Bottom-up models can point out which
  physiological processes are understudied and which mechanisms appear
  most important for emerging population
  effects (<xref alt="DeAngelis &amp; Mooij, 2003" rid="ref-deangelis2003praise" ref-type="bibr">DeAngelis
  &amp; Mooij, 2003</xref>). Once a model is sufficiently mature, its
  predictions can inform nature conservation management—an application
  that could prove useful in light of ongoing global
  defaunation (<xref alt="Dirzo et al., 2014" rid="ref-dirzo2014defaunation" ref-type="bibr">Dirzo
  et al., 2014</xref>).</p>
  <p>The currently implemented model concepts originate in large parts
  from Pachzelt et al.
  (<xref alt="2013" rid="ref-pachzelt2013coupling" ref-type="bibr">2013</xref>)
  and the earlier works by Illius &amp; O’Connor
  (<xref alt="2000" rid="ref-illius2000resource" ref-type="bibr">2000</xref>)
  and Illius &amp; Gordon
  (<xref alt="1999" rid="ref-illius1999scaling" ref-type="bibr">1999</xref>).
  Pachzelt et al.
  (<xref alt="2013" rid="ref-pachzelt2013coupling" ref-type="bibr">2013</xref>)
  integrated African grazers into LPJ-GUESS, a dynamic global vegetation
  model (DGVM)
  (<xref alt="Benjamin Smith et al., 2001" rid="ref-smith2001representation" ref-type="bibr">Benjamin
  Smith et al., 2001</xref>). Later studies have implemented
  conceptually similar grazer models for other DGVMs: Dangal et al.
  (<xref alt="2017" rid="ref-dangal2017integrating" ref-type="bibr">2017</xref>)
  for DLEM and Zhu et al.
  (<xref alt="2018" rid="ref-zhu2018large" ref-type="bibr">2018</xref>)
  for ORCHIDEE. However, to my knowledge, none of these implementations
  are reusable across different vegetation models.</p>
  <p>The author is currently using MMM integrated with LPJ-GUESS
  (<xref alt="Benjamin Smith et al., 2001" rid="ref-smith2001representation" ref-type="bibr">Benjamin
  Smith et al., 2001</xref>;
  <xref alt="B. Smith et al., 2014" rid="ref-smith2014implications" ref-type="bibr">B.
  Smith et al., 2014</xref>), using daily grass growth
  (<xref alt="Boke-Olén et al., 2018" rid="ref-bokeolen2018estimating" ref-type="bibr">Boke-Olén
  et al., 2018</xref>).<xref ref-type="fn" rid="fn1">1</xref> Here,
  LPJ-GUESS simulates grass as forage for herbivores. This particular
  project is concerned with simulating potential densities of mammoths,
  steppe bison, and horse in the last ice age. However, MMM could also
  be parametrized for extant herbivores, such as cattle, Scandinavian
  reindeer, or Mongolian gazelles. MMM can also be coupled with dynamic
  vegetation models other than LPJ-GUESS.</p>
</sec>
<sec id="features">
  <title>Features</title>
  <p>MMM is a C++ library meant to be coupled with a dynamic vegetation
  model into a complete ecosystem model. Currently, the only forage is
  grass. The vegetation model simulates the amount of available forage,
  which the herbivores then consume. In addition, the vegetation model
  provides information about environmental conditions, such as air
  temperature. This way, herbivores and vegetation dynamically influence
  each other, namely through forage removal and nutrient cycling. MMM
  ships with a very simple vegetation model that demonstrates how the
  coupling can be implemented.</p>
  <p>Herbivores are simulated in distinct spatial units, which have no
  absolute area size because all calculations are done on a per-area
  basis. That means that MMM itself is not spatially explicit and makes
  no assumptions about the actual size of the area inhabited by
  herbivores. It is up to the vegetation model to give these spatial
  units meaning by linking them to spatially explicit entities, such as
  grid cells. With this flexibility, MMM can be used for studies on
  different scales, from local to continental.</p>
  <p>Modularity is a primary design goal of the library. Through the
  instruction file<xref ref-type="fn" rid="fn2">2</xref>, users can turn
  mechanisms on or off and parametrize herbivore species or herbivore
  functional types. Parameters include, for example, body mass,
  components of energy expenditure, maximum feed intake, background
  mortality, body fat reserves, etc. There are no hard-coded parameters;
  all can be defined in the instruction file. MMM’s flexible framework
  allows developers to integrate new mechanisms, such as a more detailed
  energy budget model, mortality from hunting and predation, or a new
  forage type.</p>
  <p>While monolithic ecosystem models can easily become “black boxes,”
  whose internal mechanisms have grown too complex to be understood
  intuitively, a modular model is more transparent. Developing
  mechanistic ecosystem models is typically an exploratory, iterative
  process. For a specific study, the modeler has to adjust parameters
  and mechanisms of a given model, either manually or programmatically.
  In this process it is crucial that the modeler can increase model
  complexity step by step, just enough to represent the mechanisms
  important for the research question.</p>
  <p>Thanks to its modular design and its stable library interface, MMM
  can stay backward-compatible in future versions, and the same codebase
  can be used for different studies and different vegetation models.
  This benefits reproducibility in two ways. First, after bugs have been
  fixed, previous analyses can easily be reexecuted. Second, simulations
  can be repeated with other vegetation models in order to understand
  how their different assumptions impact plant–herbivore dynamics.</p>
</sec>
<sec id="acknowledgements">
  <title>Acknowledgements</title>
  <p>I thank my PhD supervisor Thomas Hickler and my colleagues Adrian
  Pachzelt, Matthew Forrest, and Theresa Stratmann for their support in
  model development and implementation.</p>
</sec>
</body>
<back>
<ref-list>
  <ref-list>
    <ref id="ref-bokeolen2018estimating">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Boke-Olén</surname><given-names>Niklas</given-names></name>
          <name><surname>Lehsten</surname><given-names>Veiko</given-names></name>
          <name><surname>Abdi</surname><given-names>Abdulhakim M.</given-names></name>
          <name><surname>Ardö</surname><given-names>Jonas</given-names></name>
          <name><surname>Khatir</surname><given-names>Abdelrahman A.</given-names></name>
        </person-group>
        <article-title>Estimating grazing potentials in Sudan using daily carbon allocation in dynamic vegetation model</article-title>
        <source>Rangeland Ecology &amp; Management</source>
        <year iso-8601-date="2018">2018</year>
        <volume>71</volume>
        <issue>6</issue>
        <issn>1550-7424</issn>
        <uri>http://www.sciencedirect.com/science/article/pii/S1550742418301970</uri>
        <pub-id pub-id-type="doi">10.1016/j.rama.2018.06.006</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-dangal2017integrating">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Dangal</surname><given-names>Shree R. S.</given-names></name>
          <name><surname>Tian</surname><given-names>Hanqin</given-names></name>
          <name><surname>Lu</surname><given-names>Chaoqun</given-names></name>
          <name><surname>Ren</surname><given-names>Wei</given-names></name>
          <name><surname>Pan</surname><given-names>Shufen</given-names></name>
          <name><surname>Yang</surname><given-names>Jia</given-names></name>
          <name><surname>Di Cosmo</surname><given-names>Nicola</given-names></name>
          <name><surname>Hessl</surname><given-names>Amy</given-names></name>
        </person-group>
        <article-title>Integrating herbivore population dynamics into a global land biosphere model: Plugging animals into the earth system</article-title>
        <source>Journal of Advances in Modeling Earth Systems</source>
        <year iso-8601-date="2017">2017</year>
        <volume>9</volume>
        <issue>8</issue>
        <uri>https://agupubs.onlinelibrary.wiley.com/doi/abs/10.1002/2016MS000904</uri>
        <pub-id pub-id-type="doi">10.1002/2016MS000904</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-deangelis2003praise">
      <element-citation publication-type="paper-conference">
        <person-group person-group-type="author">
          <name><surname>DeAngelis</surname><given-names>Donald L.</given-names></name>
          <name><surname>Mooij</surname><given-names>Wolf M.</given-names></name>
        </person-group>
        <article-title>In praise of mechanistically rich models</article-title>
        <source>Models in ecosystem science</source>
        <person-group person-group-type="editor">
          <name><surname>Canham</surname><given-names>Charles D.</given-names></name>
          <name><surname>Cole</surname><given-names>Jonathan J.</given-names></name>
          <name><surname>Lauenroth</surname><given-names>William K.</given-names></name>
        </person-group>
        <publisher-name>Princeton University Press</publisher-name>
        <publisher-loc>Princeton, New Jersey</publisher-loc>
        <year iso-8601-date="2003">2003</year>
        <isbn>0-691-09288-5</isbn>
        <pub-id pub-id-type="doi">10.2307/j.ctv1dwq0tq.9</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-dirzo2014defaunation">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Dirzo</surname><given-names>Rodolfo</given-names></name>
          <name><surname>Young</surname><given-names>Hillary S.</given-names></name>
          <name><surname>Galetti</surname><given-names>Mauro</given-names></name>
          <name><surname>Ceballos</surname><given-names>Gerardo</given-names></name>
          <name><surname>Isaac</surname><given-names>Nick J. B.</given-names></name>
          <name><surname>Collen</surname><given-names>Ben</given-names></name>
        </person-group>
        <article-title>Defaunation in the Anthropocene</article-title>
        <source>Science</source>
        <year iso-8601-date="2014">2014</year>
        <volume>345</volume>
        <issue>6195</issue>
        <issn>0036--8075</issn>
        <uri>http://science.sciencemag.org/content/345/6195/401</uri>
        <pub-id pub-id-type="doi">10.1126/science.1251817</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-illius1999scaling">
      <element-citation publication-type="paper-conference">
        <person-group person-group-type="author">
          <name><surname>Illius</surname><given-names>A. W.</given-names></name>
          <name><surname>Gordon</surname><given-names>I. J.</given-names></name>
        </person-group>
        <article-title>Scaling up from functional response to numerical response in vertebrate herbivores</article-title>
        <source>Herbivores: Between plants and predators: The 38th symposium of the British Ecological Society 1997</source>
        <person-group person-group-type="editor">
          <name><surname>Olff</surname><given-names>H.</given-names></name>
          <name><surname>Brown</surname><given-names>V. K.</given-names></name>
          <name><surname>Drent</surname><given-names>R. H.</given-names></name>
        </person-group>
        <publisher-name>British Ecological Society; Blackwell Science</publisher-name>
        <publisher-loc>Malden, Massachusetts</publisher-loc>
        <year iso-8601-date="1999">1999</year>
      </element-citation>
    </ref>
    <ref id="ref-illius2000resource">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Illius</surname><given-names>A. W.</given-names></name>
          <name><surname>O’Connor</surname><given-names>T. G.</given-names></name>
        </person-group>
        <article-title>Resource heterogeneity and ungulate population dynamics</article-title>
        <source>Oikos</source>
        <year iso-8601-date="2000">2000</year>
        <volume>89</volume>
        <issue>2</issue>
        <issn>1600-0706</issn>
        <uri>http://dx.doi.org/10.1034/j.1600-0706.2000.890209.x</uri>
        <pub-id pub-id-type="doi">10.1034/j.1600-0706.2000.890209.x</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-pachzelt2013coupling">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Pachzelt</surname><given-names>Adrian</given-names></name>
          <name><surname>Rammig</surname><given-names>Anja</given-names></name>
          <name><surname>Higgins</surname><given-names>Steven</given-names></name>
          <name><surname>Hickler</surname><given-names>Thomas</given-names></name>
        </person-group>
        <article-title>Coupling a physiological grazer population model with a generalized model for vegetation dynamics</article-title>
        <source>Ecological Modelling</source>
        <year iso-8601-date="2013">2013</year>
        <volume>263</volume>
        <issn>0304-3800</issn>
        <uri>http://www.sciencedirect.com/science/article/pii/S0304380013002494</uri>
        <pub-id pub-id-type="doi">10.1016/j.ecolmodel.2013.04.025</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-smith2001representation">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Smith</surname><given-names>Benjamin</given-names></name>
          <name><surname>Prentice</surname><given-names>I. Colin</given-names></name>
          <name><surname>Sykes</surname><given-names>Martin T.</given-names></name>
        </person-group>
        <article-title>Representation of vegetation dynamics in the modelling of terrestrial ecosystems: Comparing two contrasting approaches within European climate space</article-title>
        <source>Global Ecology and Biogeography</source>
        <year iso-8601-date="2001">2001</year>
        <volume>10</volume>
        <issue>6</issue>
        <issn>1466-8238</issn>
        <uri>http://dx.doi.org/10.1046/j.1466-822X.2001.t01-1-00256.x</uri>
        <pub-id pub-id-type="doi">10.1046/j.1466-822X.2001.t01-1-00256.x</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-smith2014implications">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Smith</surname><given-names>B.</given-names></name>
          <name><surname>Wårlind</surname><given-names>D.</given-names></name>
          <name><surname>Arneth</surname><given-names>A.</given-names></name>
          <name><surname>Hickler</surname><given-names>T.</given-names></name>
          <name><surname>Leadley</surname><given-names>P.</given-names></name>
          <name><surname>Siltberg</surname><given-names>J.</given-names></name>
          <name><surname>Zaehle</surname><given-names>S.</given-names></name>
        </person-group>
        <article-title>Implications of incorporating N cycling and N limitations on primary production in an individual-based dynamic vegetation model</article-title>
        <source>Biogeosciences</source>
        <year iso-8601-date="2014">2014</year>
        <volume>11</volume>
        <issue>7</issue>
        <uri>https://www.biogeosciences.net/11/2027/2014/</uri>
        <pub-id pub-id-type="doi">10.5194/bg-11-2027-2014</pub-id>
      </element-citation>
    </ref>
    <ref id="ref-zhu2018large">
      <element-citation publication-type="article-journal">
        <person-group person-group-type="author">
          <name><surname>Zhu</surname><given-names>Dan</given-names></name>
          <name><surname>Ciais</surname><given-names>Philippe</given-names></name>
          <name><surname>Chang</surname><given-names>Jinfeng</given-names></name>
          <name><surname>Krinner</surname><given-names>Gerhard</given-names></name>
          <name><surname>Peng</surname><given-names>Shushi</given-names></name>
          <name><surname>Viovy</surname><given-names>Nicolas</given-names></name>
          <name><surname>Peñuelas</surname><given-names>Josep</given-names></name>
          <name><surname>Zimov</surname><given-names>Sergey</given-names></name>
        </person-group>
        <article-title>The large mean body size of mammalian herbivores explains the productivity paradox during the last glacial maximum</article-title>
        <source>Nature Ecology &amp; Evolution</source>
        <year iso-8601-date="2018-04-01">2018</year><month>04</month><day>01</day>
        <volume>2</volume>
        <issue>4</issue>
        <issn>2397-334X</issn>
        <uri>https://doi.org/10.1038/s41559-018-0481-y</uri>
        <pub-id pub-id-type="doi">10.1038/s41559-018-0481-y</pub-id>
      </element-citation>
    </ref>
  </ref-list>
</ref-list>
<fn-group>
  <fn id="fn1">
    <label>1</label><p>The proprietary LPJ-GUESS source code, including
    the MMM-coupled version, may be available upon request at Lund
    University
    (<ext-link ext-link-type="uri" xlink:href="https://iis4.nateko.lu.se/lpj-guess/">https://iis4.nateko.lu.se/lpj-guess/</ext-link>).</p>
  </fn>
  <fn id="fn2">
    <label>2</label><p>Example instruction files are included in the
    code repository:
    <ext-link ext-link-type="uri" xlink:href="https://github.com/wtraylor/modular_megafauna_model/tree/master/examples">https://github.com/wtraylor/modular_megafauna_model/tree/master/examples</ext-link></p>
  </fn>
</fn-group>
</back>
</article>
