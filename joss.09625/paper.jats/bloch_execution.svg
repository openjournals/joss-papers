<svg xmlns="http://www.w3.org/2000/svg" width="640" height="360" viewBox="0 0 640 360" role="img" aria-labelledby="title desc">
  <title id="title">Bloch program and simulator interaction</title>
  <desc id="desc">Sequence of operations between a Bloch program and the simulator: h gate, measure, result returned, and reset.</desc>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1f2933"/>
    </marker>
    <style>
      text { font-family: "DejaVu Sans", Arial, sans-serif; font-size: 14px; fill: #0b1f2a; }
      rect { fill: #e6eef3; stroke: #1f2933; stroke-width: 1.2; rx: 6; ry: 6; }
      .lane { stroke: #1f2933; stroke-width: 2; }
      .dashed { stroke-dasharray: 6 4; }
    </style>
  </defs>

  <!-- Swim lanes -->
  <rect x="70" y="20" width="140" height="50"/>
  <text x="115" y="50">Program</text>
  <rect x="430" y="20" width="140" height="50"/>
  <text x="470" y="50">Simulator</text>

  <rect x="70" y="290" width="140" height="50"/>
  <text x="115" y="320">Program</text>
  <rect x="430" y="290" width="140" height="50"/>
  <text x="470" y="320">Simulator</text>

  <line class="lane" x1="140" y1="70" x2="140" y2="290"/>
  <line class="lane" x1="500" y1="70" x2="500" y2="290"/>

  <!-- Messages -->
  <line x1="140" y1="120" x2="500" y2="120" stroke="#1f2933" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="275" y="110">h(q)</text>

  <line x1="140" y1="160" x2="500" y2="160" stroke="#1f2933" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="255" y="150">measure(q)</text>

  <line class="dashed" x1="500" y1="200" x2="140" y2="200" stroke="#1f2933" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="285" y="190">bit r</text>

  <line x1="140" y1="240" x2="500" y2="240" stroke="#1f2933" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="275" y="230">reset(q)</text>
</svg>
